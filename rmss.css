/* ================================
   RMSS CSS Variables
   ================================ */
:root {
  /* Tipografía */
  --rmss-font-main: 'Signika', sans-serif;
  --rmss-font-size-sm: 12px;
  --rmss-font-size-md: 14px;
  
  /* Colores - Grids (fondo alternante) */
  --rmss-row-highlight: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);
  
  /* Colores - Progress bars */
  --rmss-progress-bg: #e6f3fa;
  --rmss-progress-fill: #428bca;
  --rmss-progress-text: #cce7f5;
  
  /* Colores - Tabs (dorados estilo Rolemaster) */
  --rmss-tab-gold: #c8a861;
  --rmss-tab-gold-active: #e3c978;
  --rmss-tab-gold-hover: #ffd87b;
  
  /* Colores - Botones de acción */
  --rmss-btn-success: #04AA6D;
  --rmss-btn-success-hover: #46a049;
  --rmss-btn-danger: #f44336;
  --rmss-btn-danger-hover: #da190b;
  
  /* Espaciado */
  --rmss-padding-xs: 3px;
  --rmss-padding-sm: 5px;
  --rmss-padding-md: 8px;
}

/* ================================
   SKILL CATEGORIES GRID
   ================================ */
.skillcat-grid-container {
    display: grid;
    grid-template-columns: [skill-category-name] 10% [applicable-stats] 10% [dev-cost] 8% [num-ranks] 8% [new-ranks] 8% [rank-bonus] 8% [stat-bonus] 8% [prof-bonus] 8% [special-bonus-1] 8% [special-bonus-2] 8% [total-bonus] 8% [controls] 8%;
}

.skillcat-grid-container > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    justify-content: center;
}

.skillcat-grid-container > div:nth-child(24n+1),
.skillcat-grid-container > div:nth-child(24n+2),
.skillcat-grid-container > div:nth-child(24n+3),
.skillcat-grid-container > div:nth-child(24n+4),
.skillcat-grid-container > div:nth-child(24n+5),
.skillcat-grid-container > div:nth-child(24n+6),
.skillcat-grid-container > div:nth-child(24n+7),
.skillcat-grid-container > div:nth-child(24n+8),
.skillcat-grid-container > div:nth-child(24n+9),
.skillcat-grid-container > div:nth-child(24n+10),
.skillcat-grid-container > div:nth-child(24n+11),
.skillcat-grid-container > div:nth-child(24n+12) {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    justify-content: center;
    background-image: var(--rmss-row-highlight);
}

.skillcat-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.container {
    display: flex;
}

.actor-icon {
    flex-shrink: 1;
}

.favorite-container {
    padding: 5px;
}

.header-container {
    flex-grow: 2;
    box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
    max-width: 250px;
}

.header-text {
    display: flex;
    align-items: center;
    padding: 1px;
}

#movement-rate-current{
    background-color:#aaa;
    border:1px solid #444;
    text-align:center;
}

.settings-button,
.playersheet-settings {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    margin-right: 6px;
}

.resource-container {
    display: flex;
    flex-direction: row;
    flex-grow: 3;
    text-align: -webkit-center;
}

.resource-container > * {
    flex: 1 1 0;
}

.resource-entry {
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.resource-entry input {
    width: 50px;
    border: none;
}

.stat-container {
    flex-direction: column;
    flex-shrink: 1;
}

.stat-row {
    align-items: center;
}

.equipment-container {
    flex-direction: column;
    flex-grow: 1;
}

.stat-block {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.stat-name,
.money-name {
    width: 100px;
    border: none;
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
}

.stat-name input {
    border: none;
}

.stat-header {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
}

.fixed-info-container {
    flex-grow: 3;
    flex-direction: row;
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
}

.fixed-info-section {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.armor-block {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.race-stat-fixed-info-block {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.role-traits-block {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.background-info-block {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.resistance-block {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
}

.red {
    background-color: orangered;
}

.blue {
    background-color: lightblue;
}

.grey {
    background-color: lightgrey;
}

.green {
    background-color: lightseagreen;
}

.skills-grid-container {
    display: grid;
    grid-template-columns: [image] 5% [favorite] 3% [skill-name] 11% [dev-cost] 5% [num-ranks] 8% [new-ranks] 9% [rank-bonus] 8% [category-bonus] 8% [item-bonus] 8% [special-bonus-1] 9% [special-bonus-2] 9% [total-bonus] 9% [controls] 8%;
}

.skills-grid-container-npc {
    display: grid;
    grid-template-columns: [image] 5% [skill-name] 35% [rank-bonus] 15% [item-bonus] 10% [special-bonus-1] 10% [total-bonus] 10% [controls] 15%;
}

.skills-grid-container-creature {
    display: grid;
    grid-template-columns: [attack-name] 19% [attack-bonus] 10% [attack-multiplier] 10% [attacks-number] 10% [attack-probability] 18% [special] 25% [controls] 8%;
}

.skills-grid-container > div, .skills-grid-container-creature > div,.skills-grid-container-npc > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    justify-content: center;
}

.skills-grid-container > div:nth-child(26n+1),
.skills-grid-container > div:nth-child(26n+2),
.skills-grid-container > div:nth-child(26n+3),
.skills-grid-container > div:nth-child(26n+4),
.skills-grid-container > div:nth-child(26n+5),
.skills-grid-container > div:nth-child(26n+6),
.skills-grid-container > div:nth-child(26n+7),
.skills-grid-container > div:nth-child(26n+8),
.skills-grid-container > div:nth-child(26n+9),
.skills-grid-container > div:nth-child(26n+10),
.skills-grid-container > div:nth-child(26n+11),
.skills-grid-container > div:nth-child(26n+12) {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    justify-content: center;
    background-image: var(--rmss-row-highlight);
}

/* Skills table: tabla con filas arrastrables (reemplaza grid legacy) */
.skills-table {
    width: 100%;
    border-collapse: collapse;
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
}

.skills-table th,
.skills-table td {
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    vertical-align: middle;
}

.skills-table th {
    font-weight: bold;
    background-image: var(--rmss-row-highlight);
}

.skills-table th:nth-child(1) { width: 5%; }
.skills-table th:nth-child(2) { width: 3%; }
.skills-table th:nth-child(3) { width: 11%; }
.skills-table th:nth-child(4) { width: 5%; }
.skills-table th:nth-child(5) { width: 8%; }
.skills-table th:nth-child(6) { width: 9%; }
.skills-table th:nth-child(7) { width: 8%; }
.skills-table th:nth-child(8) { width: 8%; }
.skills-table th:nth-child(9) { width: 8%; }
.skills-table th:nth-child(10) { width: 9%; }
.skills-table th:nth-child(11) { width: 9%; }
.skills-table th:nth-child(12) { width: 9%; }
.skills-table th:nth-child(13) { width: 8%; }

.skills-table .skill-row {
    cursor: grab;
}

.skills-table .skill-row:active {
    cursor: grabbing;
}

.skills-table .skill-row:hover {
    background-color: rgba(255, 255, 255, 0.15);
    transition: background-color 0.2s ease-in-out;
}

.skills-table tbody tr.skill-row:nth-child(odd) {
    background-image: var(--rmss-row-highlight);
}

.skills-table tbody tr.skill-row:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.1);
}

.skills-table .skill-name-cell {
    text-align: left;
}

.skills-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.money-column {
    flex-direction: column;
}

.money-container {
    flex-direction: column;
    flex-shrink: 1;
    padding-left: 10px;
}

.items-grid-container {
    display: grid;
    grid-template-columns: [image] 5% [name] 35% [worn] 10%  [quantity] 10% [weight] 10% [cost] 15% [controls] 15%;
}

.items-grid-container > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
}

.items-grid-container > div:nth-child(14n+1),
.items-grid-container > div:nth-child(14n+2),
.items-grid-container > div:nth-child(14n+3),
.items-grid-container > div:nth-child(14n+4),
.items-grid-container > div:nth-child(14n+5),
.items-grid-container > div:nth-child(14n+6) {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
    background-image: var(--rmss-row-highlight);
}

.items-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.weapons-grid-container {
    display: grid;
    grid-template-columns: [image] 6% [name] 30% [equipped] 8% [breakage_range] 7% [fumble_range] 7% [strength] 7% [quantity] 9% [weight] 9% [cost] 9% [controls] 8%;
}

.weapons-grid-container > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
}

.weapons-grid-container > div:nth-child(18n+1),
.weapons-grid-container > div:nth-child(18n+2),
.weapons-grid-container > div:nth-child(18n+3),
.weapons-grid-container > div:nth-child(18n+4),
.weapons-grid-container > div:nth-child(18n+5),
.weapons-grid-container > div:nth-child(18n+6),
.weapons-grid-container > div:nth-child(18n+7),
.weapons-grid-container > div:nth-child(18n+8),
.weapons-grid-container > div:nth-child(18n+9) {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
    background-image: var(--rmss-row-highlight);
}

.weapons-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.armor-grid-container {
    display: grid;
    grid-template-columns: [image] 5% [name] 30% [equipped] 11% [at] 11% [quantity] 11% [weight] 11% [cost] 11% [controls] 10%;
}

.armor-grid-container > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
}

.armor-grid-container > div:nth-child(16n+1),
.armor-grid-container > div:nth-child(16n+2),
.armor-grid-container > div:nth-child(16n+3),
.armor-grid-container > div:nth-child(16n+4),
.armor-grid-container > div:nth-child(16n+5),
.armor-grid-container > div:nth-child(16n+6),
.armor-grid-container > div:nth-child(16n+7) {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
    background-image: var(--rmss-row-highlight);
}

.armor-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.herbs-grid-container {
    display: grid;
    grid-template-columns: [image] 5% [name] 25% [quantity] 11% [codes] 12% [af] 12% [weight] 12% [cost] 11% [controls] 12%;
}

.herbs-grid-container > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
}

.herbs-grid-container > div:nth-child(16n+1),
.herbs-grid-container > div:nth-child(16n+2),
.herbs-grid-container > div:nth-child(16n+3),
.herbs-grid-container > div:nth-child(16n+4),
.herbs-grid-container > div:nth-child(16n+5),
.herbs-grid-container > div:nth-child(16n+6),
.herbs-grid-container > div:nth-child(16n+7) {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
    justify-content: center;
    background-image: var(--rmss-row-highlight);
}

.herbs-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.spell-grid-container {
    display: grid;
    grid-template-columns: [img] 9% [favorite] 3% [name] 38% [area_of_effect] 10% [duration] 10% [range] 10% [type] 10% [controls] 10%;
}

/* Headings: first 8 direct children */
.spell-grid-container > .spell-grid-heading {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: center;
    flex-direction: row;
    background-image: var(--rmss-row-highlight);
}

/* Spell rows: draggable, subgrid to align cells with headings */
.spell-row {
    grid-column: 1 / -1;
    display: grid;
    grid-template-columns: subgrid;
    cursor: grab;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.spell-row:active {
    cursor: grabbing;
}

.spell-row:hover {
    background-color: rgba(255, 255, 255, 0.15);
    transition: background-color 0.2s ease-in-out;
}

/* Alternating rows: spell-row at odd (9,11,13...) vs even (10,12,14...) positions */
.spell-grid-container > .spell-row:nth-child(odd) {
    background-image: var(--rmss-row-highlight);
}

.spell-grid-container > .spell-row:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.1);
}

/* Cells within each spell row */
.spell-row > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: center;
    flex-direction: row;
    align-items: center;
}

.spell-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.spell-grid-container > .spell-grid-heading,
.spell-row > div {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: inset 0 -1px 0 rgba(255, 255, 255, 0.05);
}

.spell-favorite i.fa-square-check {
    color: #6c5918;
    filter: drop-shadow(0 0 3px rgba(255, 217, 102, 0.5));
}

.spell-cast-force i {
    color: rgb(0, 149, 199);
    border: 1px solid rgb(0, 149, 199);
    border-radius: 3px;
    padding: 2px;
}

.spell-cast-utility i {
    color: #476e13;
    border: 1px solid #476e13;
    border-radius: 3px;
    padding: 2px;
}

.spell-cast-elemental i {
    color: #c45c26;
    border: 1px solid #c45c26;
    border-radius: 3px;
    padding: 2px;
}

.spell-cast-directed i {
    color: #9b59b6;
    border: 1px solid #9b59b6;
    border-radius: 3px;
    padding: 2px;
}

.spell-info-icon {
    position: relative;
    cursor: pointer; color: #4b4a44; font-size: 0.9em;
}

.resistances-grid-container {
    outline: 1px solid;
    /* use instead of border */
    margin-top: 1px;
    margin-left: 1px;
    padding: 5px;
    display: grid;
    grid-template-columns: [Name] 40% [Value] 20% [Race_Mod] 20% [Total] 20%;
}

.resistances-grid-heading {
    font-weight: bold;
    border-bottom: 1px solid;
    background-image: var(--rmss-row-highlight);
}

.resistance-input {
    width: 75%;
}

.skillcat-name,
.skill-name,
.item-name,
.spell-name,
.equipable-name {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    font-weight: bold;
    text-align: center;
}

.skillcat-entry,
.skill-entry,
.item-entry,
.spell-entry,
.equipable-entry {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
}

.skillcat-headeritem,
.skill-headeritem,
.item-headeritem,
.spell-headeritem,
.equipable-headeritem {
    text-align: center;
    font-weight: bold;
}

.skillcat-controls,
.skill-controls,
.item-controls {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
}

.applicable-stats-grid-container {
    display: grid;
    grid-template-columns: [app-stat-1] 33% [app-stat-2] 33% [app-stat-3] 33%;
}

.applicable-stats-grid-container > div {
    font-family: var(--rmss-font-main);
    font-size: var(--rmss-font-size-sm);
    text-align: center;
    border-bottom: 1px solid;
    padding-top: 3px;
    padding-bottom: 3px;
    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    justify-content: center;
}

.sheet form {
    display: flex;
    flex-direction: column;
}

.sheet .sheet-content {
    height: 100%;
    display: flex;
    flex-direction: column;
}

.description-editor-wrapper.empty-description .editor-content {
  min-height: 80px;
}

.sheet .tab .description-editor-wrapper .editor-content {
  min-height: 80px;
}

.sheet .tab .description-editor-wrapper .editor {
  min-height: 80px;
}

.sheet .sheet-content .editor {
    height: auto;
    min-height: 80px;
}

.sheet .tab .sheet-content .editor {
    min-height: 80px;
}

/* Human Body */
.human-body {
    width: 207px;
    position: relative;
    padding-top: 240px;
    height: 530px;
    display: block;
    margin: 40px auto;
    background-color: #363636;
}

.human-body svg:hover, .fa-dice.roll-stat:hover {
    cursor: pointer;
}

.human-body svg:hover path {
    fill: #ff7d16;
}

.human-body svg {
    position: absolute;
    left: 50%;
    fill: #ffffff;
}

.human-body svg#head {
    margin-left: -28.5px;
    top: 14px; /* Incrementado en 10px */
}

.human-body svg#left-shoulder {
    margin-left: -53.5px;
    top: 89px; /* Incrementado en 10px */
}

.human-body svg#right-shoulder {
    margin-left: 13.5px;
    top: 89px; /* Incrementado en 10px */
}

.human-body svg#left-arm {
    margin-left: -78px;
    top: 132px; /* Incrementado en 10px */
}

.human-body svg#right-arm {
    margin-left: 38px;
    top: 132px; /* Incrementado en 10px */
    z-index: 10001;
}

.human-body svg#chest {
    margin-left: -43.5px;
    top: 108px; /* Incrementado en 10px */
}

.human-body svg#stomach {
    margin-left: -37.5px;
    top: 150px; /* Incrementado en 10px */
}

.human-body svg#left-leg {
    margin-left: -46.5px;
    top: 225px; /* Incrementado en 10px */
    z-index: 9999;
}

.human-body svg#right-leg {
    margin-left: 1.5px;
    top: 225px; /* Incrementado en 10px */
    z-index: 9999;
}

.human-body svg#left-hand {
    margin-left: -102.5px;
    top: 244px; /* Incrementado en 10px */
}

.human-body svg#right-hand {
    margin-left: 66.5px;
    top: 244px; /* Incrementado en 10px */
    z-index: 10000;
}

.human-body svg#left-foot {
    margin-left: -35.5px;
    top: 475px; /* Incrementado en 10px */
}

.human-body svg#right-foot {
    margin-left: 5.5px;
    top: 475px; /* Incrementado en 10px */
}

.exp-grid-container {
    display: inline-flex;
    justify-content: space-between;
    margin-right: 1.5em;
    margin-bottom: 1em;
}

.exp-margin-right {
    margin-right: 2em;
}

.exp-block {
    display: block;
}

.info-tip {
    font-size: var(--rmss-font-size-sm);
}

.level-up-enabled, #add-exp {
    background-color: var(--rmss-btn-success);
    color: white !important;
}

.level-up-enabled:hover, #add-exp:hover {
    background-color: var(--rmss-btn-success-hover);
}

.end-level-up, #reset-exp {
    background-color: var(--rmss-btn-danger);
    color: white;
}

.end-level-up:hover, #reset-exp:hover {
    background-color: var(--rmss-btn-danger-hover);
}

table.weapons tr td {
    text-align: center;
}

.clickable {
    cursor: pointer;
}

.popup.wide {
    min-width: 900px;
}

form#rmss-attack-melee-confirmation hr {
    margin-bottom: 2%;
    margin-top: 2%;
}

/* Table format (as seen on https://codepen.io/geoffyuen/pen/DZxEKy)*/
.rwd-table {
    margin: 1em 0;
}

.rwd-table tr {
    border-top: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
}

.rwd-table th {
    display: none;
}

.rwd-table td {
    display: inline-table;
}

.rwd-table td:first-child {
    padding-top: 0.5em;
}

.rwd-table td:last-child {
    padding-bottom: 0.5em;
}

.rwd-table {
    background: #a4b7c9;
    color: #000;
    border-radius: 0.4em;
    overflow: hidden;
    font-weight: bold;
    font-size: large;
}

.rwd-table tr {
    border-color: #46637f;
}

.rwd-table tr td img {
    border: 0;
}

.rwd-table th,
.rwd-table td {
    margin: 0.5em 1em;
}

.rwd-table th,
.rwd-table td:before {
    color: #dd5;
}

.critical-description {
    font-weight: bold;
    font-style: italic;
}

table.rwd-table td img {
    filter: brightness(0) saturate(100%) invert(24%) sepia(93%) saturate(5587%) hue-rotate(1deg) brightness(99%) contrast(106%);
}

.npc-skill-calc, .creature-attack-calc {
    display: contents !important;
    border-bottom: inherit;
}

.npc-skill-calc > div, .creature-attack-calc > div {
    border-bottom: inherit;
}

.critical-codes > h2 {
  font-size: 1.5em;
  border: none;
}

.critical-codes {
  border: 1px solid;
  padding: 2%;
}

.critical-procedure > div, .critical-table > div {
  display: inline-block;
  margin-right: 10px;
}

.experience-sheet .total, .exp-total-sum {
    font-weight: bold;
}

.effects-list {
    display: grid;
    grid-template-columns: [active-effects-name] 33% [active-effects-duration] 33% [active-effects-actions] 20% [active-effects-create] 14%
}

.effects-list .effect-grid-heading {
    font-weight: bold;
    margin-bottom: 10px;
    border-bottom: 1px solid;
    background-image: linear-gradient(90deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1));
}

.effects-list .active-effect {
    text-align: left;
    margin-bottom: 5%;
}

form .spell-list tr.spell td {
    text-align: center;
}

.spell-list-container .spell-grid-container{
    margin-left: 1em;
}

.spell-list-container .spell-list-title {
    font-weight: bold;
    background-color: #b4bcbf;
    padding-top: 0.5em;
    padding-left: 0.5em;
    padding-bottom: 0.5em;
    margin-top: 0.5em;
}

.spell-list-container .spell-list-name {
    float:left;
}

.spell-list-container .spell-list-actions {
   margin-left: 10%;
}

.chat-exp-message {
    border: 1px solid #ddd;
    padding: 10px;
    background-color: #f4f4f4;
    border-radius: 5px;
    margin-bottom: 10px;
}

.click-to-toggle {
    cursor: pointer;
    color: #007bff;
    text-decoration: underline;
}

.breakdown-details {
    margin-top: 10px;
    padding: 0.5em;
    display: none;
    background-color: #000000;
    border-radius: 10px;
    border: 1px solid #ddd;
}

.breakdown-details ol li {
    padding: 3%;
    border-radius:5px;
}

.breakdown-title {
    font-weight: bold;
    margin-bottom: 5px;
}

.chat-exp-message ol {
    list-style-type: none;
    padding-left: 0;
}

.chat-exp-message li {
    padding-left: 0;
    margin-bottom: 0.5em;
}

.creature-attack-special select {
    width:50%;
}

select[name="system.special"] {
    width:50%;
}

.sheet .editor-content {
    overflow-y: auto;
    word-break: break-word;
    background-color: #FFF8DCFF;
    color: black;
}

.drop-target {
    border: 2px dashed #aaa;
}

ul.container-contents li.item.contained {
    display: inline-flex;
    width: 100%;
}

li.item.contained span.description {
    font-weight: bold;
    padding-top: 2%;
    margin-left: 2%;
}

.rmss-progress {
    height: 15px;
    width: 100%;
    border: 1px solid var(--rmss-progress-fill);
    border-radius: 5px;
    background-color: var(--rmss-progress-bg);
    margin-bottom: 15px;
}

.rmss-progress-thin {
    height: 5px;
    width: 80%;
    border: 1px solid var(--rmss-progress-fill);
    border-radius: 5px;
    background-color: var(--rmss-progress-bg);
    margin-bottom: 15px;
}

.rmss-progress-bar {
    height: 100%;
    background: var(--rmss-progress-fill);
    display: flex;
    align-items: center;
    transition: width 0.25s;
    border-radius: 5px;
}

.rmss-progress-bar-text {
    margin-left: 10px;
    font-weight: bold;
    color: var(--rmss-progress-text);
}

tr.contained-item td.indent {
    padding-left: 1.5em;
    opacity: 0.9;
}

tr.container-row {
    background-color: rgba(0, 135, 245, 0.15);
}

/* --- Align Fate Points row just like other header-text rows --- */
.fate-points-row {
    align-items: center; /* Vertically center label and icons */
}

/* --- Align icons on the right, similar width as input fields --- */
.fate-points-row .fate-icons {
    display: flex;                /* Arrange icons in a row */
    gap: 0.25rem;                 /* Small spacing between icons */
    justify-content: flex-end;    /* Align to the right column */
    flex: 1;                      /* Take the same space as the input field */
}

/* --- Optional: make icons interactive or indicate remaining points --- */
.fate-points-row .fa-skull {
    color: var(--rmss-progress-fill);
    cursor: pointer;
    transition: color 0.2s;
}

.fate-points-row .fa-skull.spent {
    color: var(--rmss-progress-text); /* Grayed out when spent */
}

/* ================================
   Rolemaster Sheet Tabs Styling
   ================================ */

/* Contenedor general de pestañas */
.sheet-tabs {
    display: flex;
    justify-content: space-around;
    align-items: center;
    background: linear-gradient(90deg, #5a4a35 0%, #7a6542 100%);
    border-bottom: 2px solid #c9a86b;
    border-radius: 6px 6px 0 0;
    font-family: var(--font-primary, "Roboto", sans-serif);
}

/* Cada pestaña individual */
.sheet-tabs .item {
    flex: 1;
    text-align: center;
    color: #d0d0d0;
    font-weight: 600;
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 6px 8px;
    transition: all 0.2s ease-in-out;
    border-bottom: 2px solid transparent;
    cursor: pointer;
}

.sheet-tabs .item i {
    margin-right: 6px;
    font-size: 1.1rem;
    vertical-align: middle;
    color: var(--rmss-tab-gold); /* tono dorado clásico */
    transition: color 0.2s ease-in-out;
}

/* Hover */
.sheet-tabs .item:hover {
    color: #fff;
    border-bottom: 2px solid var(--rmss-tab-gold);
    background: rgba(200, 168, 97, 0.1);
}

.sheet-tabs .item:hover i {
    color: var(--rmss-tab-gold-hover);
}

.sheet-tabs .item.active {
    color: #fff;
    background: linear-gradient(180deg, #47433b 0%, #2e2b26 100%);
    border-bottom: 2px solid var(--rmss-tab-gold-active);
    box-shadow: inset 0 -2px 6px rgba(0, 0, 0, 0.3);
}

.sheet-tabs .item.active i {
    color: #f2d07d;
}

@media (max-width: 800px) {
    .sheet-tabs .item {
        font-size: 0.8rem;
        padding: 4px;
    }
    .sheet-tabs .item i {
        margin-right: 4px;
        font-size: 1rem;
    }
}

/* ================================
   Rolemaster Sub-Tabs (secondary level)
   ================================ */

.sub-tabs {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: 6px;
    background: linear-gradient(90deg, #2f2f2f 0%, #3a3a3a 100%);
    border-bottom: 1px solid #444;
    border-radius: 4px;
    margin-bottom: 4px;
    font-family: var(--font-primary, "Roboto", sans-serif);
}

.sub-tabs .item {
    padding: 3px 8px;
    font-size: 0.8rem;
    color: #ccc;
    font-weight: 500;
    letter-spacing: 0.3px;
    text-transform: uppercase;
    border-bottom: 2px solid transparent;
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.15s ease-in-out;
}

.sub-tabs .item:hover {
    color: #fff;
    background: rgba(200, 168, 97, 0.08);
    border-bottom: 2px solid var(--rmss-tab-gold);
}

.sub-tabs .item.active {
    color: #fff;
    background: rgba(200, 168, 97, 0.15);
    border-bottom: 2px solid var(--rmss-tab-gold-active);
    font-weight: 600;
}

@media (max-width: 800px) {
    .sub-tabs .item {
        font-size: 0.75rem;
    }
}

/* Search bar */
.search-bar {
    padding: 5px 0 8px 0;
}
.search-bar input[type="text"] {
    width: 100%;
    padding:  6px 10px;
    border: 1px solid #8883;
    border-radius: 6px;
    outline: none;
    background: linear-gradient(145deg, #ffc800, #ffffff, #ffcc44);
    color: #313131;
    box-shadow: 0 1px 3px rgba(0,0,0,0.4) inset, 0 0 4px rgba(255,255,255,0.05);
    transition: all 0.2s ease;
}
.search-bar input[type="text"]:focus {
    border-color: #58a6ff;
    box-shadow: 0 0 6px #58a6ff44;
}

/* === Critical Roll Button === */
.chat-critical-roll, .dialog-button {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: linear-gradient(180deg, #b00, #700);
    color: #fff;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    text-shadow: 0 0 3px #000;
    white-space: normal;
    word-break: break-word;
    box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.6);
    line-height: 1.4;
    padding: 6px 8px;
    margin: 2px 0;
    transition: all 0.2s ease-in-out;
}

.dialog-button {
    margin:5px;
}

.chat-critical-roll:hover {
    background: linear-gradient(180deg, #d00, #800);
    transform: scale(1.03);
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.8);
}

.chat-critical-roll span {
    color: #ffd;
    font-weight: 600;
}

.chat-critical-roll .crit-type {
    color: #ffb;
}

.chat-critical-roll .crit-severity {
    color: #ffd;
}

/* ================================
   RMSS – Header Layout
   ================================ */
.container {
    width:100%;
}
/* Wrapper general */
.sheet-header .container {
    display: flex;
    align-items: center;
    gap: 1.2rem;
    padding: 0.8rem 1rem;
    border-bottom: 2px solid rgba(255,255,255,0.1);
    background: linear-gradient(180deg, rgba(200,200,200,0.25), rgba(0,0,0,0.25));
    border-radius: 6px;
}

/* Icono del actor */
.actor-icon img {
    border-radius: 6px;
    border: 2px solid rgba(255,255,255,0.2);
    box-shadow: 0 0 6px rgba(0,0,0,0.5);
    width: 64px;
    height: 64px;
    object-fit: cover;
}

/* Columnas del header */
.header-container {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    flex: 1;
}

/* Entradas tipo “Hits / PP / Movement / …” */
.header-text {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.5rem;
    text-align: center;
}

.header-text label {
    font-weight: 600;
    color: var(--color-text-light-highlight, #eee);
    text-shadow:
            -1px -1px 0 black,
            1px -1px 0 black,
            -1px  1px 0 black,
            1px  1px 0 black;
    margin-right: 0.4rem;
    white-space: nowrap;
}

/* Inputs */
.header-text input[type="text"],
.header-text input[type="number"],
.header-text input[type="Number"] {
    width: 60px;
    padding: 2px 4px;
    border-radius: 4px;
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.15);
}

.header-text input:hover,
.header-text input:focus {
    border-color: var(--color-accent, #66aaff);
    box-shadow: 0 0 4px var(--color-accent, #66aaff);
}

/* Resource box estilo más bonito */
.resource-container {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}

.resource-entry {
    background: rgba(255,255,255,0.05);
    padding: 0.4rem 0.6rem;
    border-radius: 4px;
    font-size: 0.9rem;
    border: 1px solid rgba(255,255,255,0.1);
}

.resource-entry h4 {
    margin: 0.25rem 0 0 0;
    font-size: 1.1rem;
    font-weight: 600;
}

/* Fate Points */
.fate-points-row label {
    display: flex;
    align-items: center;
    gap: 0.2rem;
}

.fate-icons i {
    margin-right: 0.2rem;
    font-size: 1rem;
    cursor: pointer;
    color: var(--color-text-light-highlight, #ddd);
}

.fate-icons i:hover {
    color: var(--color-accent, #66aaff);
    transform: scale(1.1);
    transition: 0.15s;
}

/* Inputs de movement rate */
.header-text input {
    text-align: center;
}

.resource-entry {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.resource-values {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-weight: 600;
    justify-content: center;
}

.money-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 columns */
    grid-template-rows: repeat(4, auto);   /* 4 rows */
    gap: 6px 12px;
}
  
.money-field {
    display: flex;
    flex-direction: column;
}

.money-field label {
    font-size: 0.8em;
    line-height: 1.1;
    min-height: 2.2em; /* keeps inputs aligned even if label wraps */
}

.money-field input {
    text-align: right;
}

.currency-icon {
    width: 48px;
    height: 48px;
    object-fit: cover; /* keeps aspect ratio without distortion */
}

/* Casting Options Dialog */
.casting-options-dialog .casting-options-form {
    display: flex;
    flex-direction: column;
    gap: 0.5em;
}

.casting-options-dialog .form-group {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.25em 0;
}

.casting-options-dialog .form-group label {
    font-weight: bold;
    min-width: 120px;
}

.casting-options-dialog .form-group select {
    flex: 1;
    max-width: 200px;
}

.casting-options-dialog .fast-casting-input {
    display: flex;
    align-items: center;
    gap: 0.5em;
}

.casting-options-dialog .total-modifier {
    background: rgba(0, 149, 199, 0.2);
    border-radius: 4px;
    padding: 0.5em;
    margin-top: 0.5em;
}

.casting-options-dialog .total-modifier label,
.casting-options-dialog .total-modifier span {
    font-size: 1.1em;
}

/* Spell RR Results Table in Chat */
.spell-rr-table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.5em 0;
    font-size: 0.9em;
}

.spell-rr-table th,
.spell-rr-table td {
    padding: 0.3em 0.5em;
    text-align: center;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.spell-rr-table th {
    background: rgba(0, 0, 0, 0.1);
    font-weight: bold;
}

.spell-rr-table td:first-child,
.spell-rr-table th:first-child {
    text-align: left;
}

.spell-rr-table td:last-child {
    font-weight: bold;
}

.spell-rr-subindex {
    font-size: 0.8em;
    font-style: italic;
    color: #666;
    margin-top: 2px;
}

/* Spell Maneuver Result */
.spell-maneuver-result {
    margin-top: 0.5em;
    padding: 0.5em;
    border-radius: 4px;
    border-left: 4px solid #888;
    background: rgba(0, 0, 0, 0.05);
}

.spell-maneuver-result .maneuver-name {
    margin: 0 0 0.25em 0;
    font-size: 1.1em;
    font-weight: bold;
    color: #ffd700;
}

.spell-maneuver-result .maneuver-description {
    margin: 0.25em 0 0 0;
    font-size: 0.9em;
    color: #eee;
}

.spell-maneuver-result.result-critical-failure {
    border-left-color: #8b0000;
    background: rgba(139, 0, 0, 0.1);
}

.spell-maneuver-result.result-failure {
    border-left-color: #cc0000;
    background: rgba(204, 0, 0, 0.1);
}

.spell-maneuver-result.result-partial {
    border-left-color: #cc9900;
    background: rgba(204, 153, 0, 0.1);
}

.spell-maneuver-result.result-success {
    border-left-color: #228b22;
    background: rgba(34, 139, 34, 0.1);
}

.spell-maneuver-result.result-critical-success {
    border-left-color: #006400;
    background: rgba(0, 100, 0, 0.15);
}

.spell-maneuver-result.result-unusual {
    border-left-color: #8b008b;
    background: rgba(139, 0, 139, 0.1);
}

/* Skill Maneuver Result (same colors as spell maneuvers) */
.maneuver-result {
    margin-top: 0.5em;
    padding: 0.5em;
    border-radius: 4px;
    border-left: 4px solid #888;
    background: rgba(0, 0, 0, 0.05);
}

.maneuver-result.result-critical-failure {
    border-left-color: #8b0000;
    background: rgba(139, 0, 0, 0.1);
}

.maneuver-result.result-failure {
    border-left-color: #cc0000;
    background: rgba(204, 0, 0, 0.1);
}

.maneuver-result.result-partial {
    border-left-color: #cc9900;
    background: rgba(204, 153, 0, 0.1);
}

.maneuver-result.result-success {
    border-left-color: #228b22;
    background: rgba(34, 139, 34, 0.1);
}

.maneuver-result.result-critical-success {
    border-left-color: #006400;
    background: rgba(0, 100, 0, 0.15);
}

.maneuver-result.result-unusual {
    border-left-color: #8b008b;
    background: rgba(139, 0, 139, 0.1);
}

/* Spell Failure Result */
.spell-failure-result {
    margin-top: 0.75em;
    padding: 0.75em;
    border-radius: 4px;
    border: 2px solid #8b0000;
    background: rgba(139, 0, 0, 0.15);
}

.spell-failure-result h4 {
    margin: 0 0 0.5em 0;
    color: #8b0000;
    font-size: 1.1em;
}

.spell-failure-result .failure-roll-details {
    margin-bottom: 0.5em;
    padding-bottom: 0.5em;
    border-bottom: 1px solid rgba(139, 0, 0, 0.3);
}

.spell-failure-result .failure-roll-details p {
    margin: 0.25em 0;
}

.spell-failure-result .failure-description {
    font-style: italic;
    color: #660000;
}

.spell-failure-result .failure-description p {
    margin: 0;
}

/* Explosive Roll Highlight */
.explosive-roll {
    color: #ff6600;
    text-shadow: 0 0 3px rgba(255, 102, 0, 0.5);
}

/* RMSS Effects Popup Tabs */
#rmss-effects-popup {
    min-width: 350px;
}

.rmss-tabs {
    display: flex;
    border-bottom: 2px solid #782e22;
    margin-bottom: 1em;
}

.rmss-tab {
    flex: 1;
    padding: 0.5em 1em;
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    font-size: 1em;
    color: #666;
    transition: all 0.2s ease;
}

.rmss-tab:hover {
    color: #782e22;
    background: rgba(120, 46, 34, 0.1);
}

.rmss-tab.active {
    color: #782e22;
    border-bottom-color: #782e22;
    font-weight: bold;
}

.rmss-tab-content {
    display: none;
}

.rmss-tab-content.active {
    display: block;
}

.rr-calculated {
    text-align: center;
    font-size: 1.1em;
}

/* RR Chat Message */
.rmss-rr-result {
    padding: 0.5em;
}

.rmss-rr-result .rr-details p,
.rmss-rr-result .rr-roll p {
    margin: 0.25em 0;
}

.rmss-rr-result hr {
    margin: 0.5em 0;
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.2);
}

.rr-outcome {
    margin-top: 0.5em;
    padding: 0.5em;
    border-radius: 4px;
    border-left: 4px solid #888;
    background: rgba(0, 0, 0, 0.05);
    text-align: center;
}

.rr-outcome.result-success {
    border-left-color: #228b22;
    background: rgba(34, 139, 34, 0.15);
}

.rr-outcome.result-failure {
    border-left-color: #cc0000;
    background: rgba(204, 0, 0, 0.15);
}

.rr-outcome .rr-outcome-text {
    margin: 0;
    font-size: 1.2em;
}

.rr-outcome.result-success .rr-outcome-text {
    color: #228b22;
}

.rr-outcome.result-failure .rr-outcome-text {
    color: #cc0000;
}

/* RR Roll Button - same style as critical roll button but blue */
.rr-roll-button {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: linear-gradient(180deg, #0077b6, #023e8a);
    color: #fff;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    text-shadow: 0 0 3px #000;
    white-space: normal;
    word-break: break-word;
    box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.6);
    line-height: 1.4;
    padding: 6px 8px;
    margin: 4px 0;
    transition: all 0.2s ease-in-out;
    width: 100%;
}

.rr-roll-button:hover {
    background: linear-gradient(180deg, #0096c7, #0077b6);
    transform: scale(1.03);
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.8);
}

.rr-roll-button:disabled {
    background: linear-gradient(180deg, #6c757d, #495057);
    cursor: not-allowed;
    transform: none;
}
